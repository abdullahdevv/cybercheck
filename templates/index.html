<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>CyberCheck</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<nav class="navbar navbar-dark bg-dark">
  <div class="container">
    <span class="navbar-brand">CyberCheck</span>
    <a class="btn btn-warning" href="{{ donate_url }}" target="_blank">Support</a>
  </div>
</nav>

<div class="container py-5">
  <div class="card p-4 shadow">
    <h3>Website Security Checker</h3>
    <form method="post" class="d-flex gap-2 mt-3">
      <input name="url" class="form-control" placeholder="example.com" required>
      <button class="btn btn-primary">Check</button>
    </form>
  </div>

  {% if result %}
  <div class="card p-4 shadow mt-4">
    <h5>Result: {{ result.url }}</h5>
<div class="mb-2">
  <strong>Security Score:</strong>
  <span class="badge bg-{{ 'success' if result.score >= 70 else 'warning' if result.score >= 40 else 'danger' }}">
    {{ result.score }}/100
  </span>
</div>
    <p>HTTPS: {{ "Yes" if result.https else "No" }}</p>

    <h6>Headers:</h6>
    <ul>
      {% for k,v in result.headers.items() %}
        <li>{{k}} : {{v}}</li>
      {% endfor %}
    </ul>

    <h6>Missing:</h6>
    <ul>
      {% for item in result.missing %}
        <li>{{item}}</li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}
</div>

</body>
</html>
